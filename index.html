<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
    <title>Quà 20/10 - Ngày Phụ nữ Việt Nam</title>
    <meta name="description" content="Trang quà tặng 20/10 dành cho Ngày Phụ nữ Việt Nam: mở hộp quà và đọc một bức thư yêu thương.">
    <meta property="og:title" content="Quà 20/10 - Ngày Phụ nữ Việt Nam">
    <meta property="og:description" content="Mở hộp quà và đọc một bức thư yêu thương. Chúc mừng Ngày Phụ nữ Việt Nam 20/10!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="index.html">
    <meta property="og:image" content="giftimage.png"> 
    <meta property="og:image:alt" content="Quà 20/10 - Ngày Phụ nữ Việt Nam">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Quà 20/10 - Ngày Phụ nữ Việt Nam">
    <meta name="twitter:description" content="Mở hộp quà và đọc một bức thư yêu thương.">
    <meta name="twitter:image" content="giftimage.png">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/css/bootstrap-grid.min.css" integrity="sha512-JQksK36WdRekVrvdxNyV3B0Q1huqbTkIQNbz1dlcFVgNynEMRl0F8OSqOGdVppLUDIvsOejhr/W5L3G/b3J+8w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html{ height: 100%; overflow: hidden; }
        body {
            height: 100vh; width: 100vw; position: relative; overflow: hidden;
            -webkit-touch-callout: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;
        }
        .background-image{ position: absolute; width: 100vw; height: 100vh; object-fit: cover; object-position: center; transition: transform 0.3s ease; z-index: 1; }
        .corner-image { position: absolute; width: 60vw; height: 60vh; object-fit: cover; transition: transform 0.3s ease; z-index: 1; }
        .corner-image-right{ position: absolute; width: 90vw; height: 90vh; object-fit: cover; transition: transform 0.3s ease; z-index: 1; }
        .bottom-left-right{ position: absolute; width: 50vw; height: 50vh; bottom: -10vh; right: -20vh; object-fit: cover; transition: transform 0.3s ease; z-index: 2; transform:rotate(-20deg); }
        .heart1{ position: absolute; width: 30vw; height: 53vh; bottom: -8vh; right: 5vh; object-fit: cover; transition: transform 0.3s ease; z-index: 1; }
        .heart2{ position: absolute; width: 20vw; height: 34vh; bottom:35vh; right: 22vh; object-fit: cover; transition: transform 0.3s ease; z-index: 1; transform: rotate(-19deg); }
        .bottom-left { bottom: 0vh; left: -19vh; transform-origin: top left; }
        .bottom-right { bottom: 0vh; right: -19vh; transform-origin: top right; }
        .top-left { top: -15vh; left: -25vw; transform-origin: bottom left; }
        
        @property --scale { syntax: '<number>'; inherits: false; initial-value: 1; }
        @property --lidY { syntax: '<length-percentage>'; inherits: false; initial-value: 0px; }
        @property --lidRot { syntax: '<angle>'; inherits: false; initial-value: 0deg; }

        .heart1, .heart2{ transform: rotate(var(--rot, 0deg)) scale(var(--scale, 1)); transform-origin: center; }
        .heart1{ --rot: 0deg; } .heart2{ --rot: -19deg; }
        @keyframes heartbeat { 0%, 100% { --scale: 1; } 25% { --scale: 1.06; } 50% { --scale: 0.98; } 75% { --scale: 1.06; } }

        .boxgift{ position: absolute; top: 60%; left: 50%; --tx: 0; --ty: 0; --rot: 0deg; transform: translate(-50%, -50%) translate(var(--tx), var(--ty)) rotate(var(--rot)) scale(var(--scale, 1)); z-index: 3; width: min(12vw, 110px); aspect-ratio: 1 / 1; pointer-events: auto; cursor: pointer; }
        .boxgift .box-gift{ position: absolute; left: 50%; transform: translateX(-50%); width: 100%; height: auto; object-fit: contain; image-rendering: auto; }
        .boxgift .base{ bottom: 0; z-index: 1; }
        .boxgift .lid{ bottom: 60%; z-index: 2; transform: translateX(-50%) translateY(0) rotate(0deg); transform-origin: center; }
        @keyframes giftPulse { 0%, 100% { --scale: 1; } 50% { --scale: 1.08; } }
        body.is-loaded .boxgift{ animation: giftPulse 1.2s ease-in-out .4s infinite; }
        @keyframes lidOpenTransform { 0% { transform: translateX(-50%) translateY(0) rotate(0deg); } 60% { transform: translateX(-50%) translateY(-58%) rotate(-22deg); } 100% { transform: translateX(-50%) translateY(-52%) rotate(-18deg); } }
        .boxgift.open{ animation: none; } .boxgift.open .lid{ animation: lidOpenTransform .7s ease-out forwards; }
        @keyframes floatY { 0% { transform: translateY(0); } 100% { transform: translateY(-10px); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .headline{ position: absolute; top: 20%; left: 50%; transform: translate(-50%, -50%); z-index: 3; width: 92vw; text-align: center; font-family: 'Dancing Script', cursive; font-weight: 700; font-size: clamp(32px, 7.6vw, 104px); line-height: 1.5; letter-spacing: 0.2px; padding: 0 2vw; background: linear-gradient(90deg,#ff77aa,#f70e8e,#b9515f); background-size: 300% 100%; -webkit-background-clip: text; background-clip: text; color: transparent; filter: drop-shadow(0 6px 18px rgba(255, 105, 180, 0.35)); opacity: 0; }
        @keyframes gradientShift { 0% { background-position: 0% 50%; } 100% { background-position: 100% 50%; } }
        @keyframes glowPulse { 0%, 100% { filter: drop-shadow(0 6px 18px rgba(255,105,180,0.35)); } 50% { filter: drop-shadow(0 10px 26px rgba(255,105,180,0.65)); } }
        body.is-loaded .headline{ animation: fadeIn .9s ease-out .3s forwards, gradientShift 6s linear .9s infinite, glowPulse 2.4s ease-in-out .9s infinite; }
        body:not(.is-loaded) .background-image, body:not(.is-loaded) .corner-image, body:not(.is-loaded) .corner-image-right, body:not(.is-loaded) .heart1, body:not(.is-loaded) .heart2{ opacity: 0; }
        body.is-loaded .background-image{ animation: fadeIn .6s ease-out forwards; }
        body.is-loaded .corner-image{ animation: fadeIn .8s ease-out forwards, floatY 6s ease-in-out .8s infinite alternate; }
        body.is-loaded .corner-image-right{ animation: fadeIn .9s ease-out forwards, floatY 7s ease-in-out .9s infinite alternate; }
        body.is-loaded .heart1{ animation: fadeIn 1s ease-out forwards, heartbeat 1.5s ease-in-out 1.1s infinite; }

        @media (min-width: 1440px){ .headline{ top: 22%; font-size: clamp(48px, 5.6vw, 120px); } .boxgift{ width: min(14vw, 220px); top: 58%; } .corner-image-right{ width: 86vw; height: 86vh; right: -16vh; } .corner-image.bottom-left{ left: -16vh; } }
        @media (max-width: 1024px){ .headline{ top: calc(18% + env(safe-area-inset-top, 0px)); font-size: clamp(28px, 6.2vw, 72px); } .boxgift{ width: min(22vw, 140px); top: 62%; } .corner-image{ width: 64vw; height: 54vh; } .corner-image-right{ width: 96vw; height: 86vh; right: -18vh; } .corner-image.bottom-left{ left: -22vh; } }
        @media (max-width: 768px){ .headline{ top: calc(17% + env(safe-area-inset-top, 0px)); font-size: clamp(26px, 7.2vw, 64px); } .boxgift{ width: min(40vw, 170px); top: 64%; } .corner-image{ width: 70vw; height: 50vh; } .corner-image-right{ width: 110vw; height: 92vh; right: -24vh; } .corner-image.bottom-left{ left: -24vh; } .heart1{ width: 38vw; height: auto; } .heart2{ width: 24vw; height: auto; right: 12vh; bottom: 36vh; } }
        @media (max-width: 600px){ .headline{ top: calc(14% + env(safe-area-inset-top, 0px)); font-size: clamp(24px, 8.8vw, 56px); line-height: 1.2; padding: 0 4vw; } .boxgift{ width: min(26vw, 80px); top: 45%; } .heart1{ width: 52vw; height: auto; bottom: 3vh;right: 0; } .heart2{ width: 28vw; height: auto; bottom: 20vh; right: 8vh; } .corner-image-right{ width: 128vw; height: 50vh; right: -2vh; } .corner-image.bottom-left{ left: -6vh; } .bottom-left-right{ display: none; } }
        @media (prefers-reduced-motion: reduce){ .background-image, .corner-image, .corner-image-right{ animation: none !important; } }
        
        body.hide-ui .corner-image, body.hide-ui .corner-image-right, body.hide-ui .bottom-left-right, body.hide-ui .heart1, body.hide-ui .heart2, body.hide-ui .headline, body.hide-ui .boxgift{ opacity: 0 !important; pointer-events: none !important; transition: opacity .4s ease !important; }
        
        #pageLoader{ position: absolute; inset: 0; z-index: 1000; display: none; align-items: center; justify-content: center; background: rgba(0,0,0,.45); }
        #pageLoader.show{ display: flex; }
        #pageLoader .wrap{ display: flex; flex-direction: column; align-items: center; gap: 14px; }
        #pageLoader .spinner{ width: 64px; height: 64px; border: 6px solid rgba(211, 7, 234, 0.35); border-top-color: #a317a5; border-radius: 50%; animation: spin 1s linear infinite; }
        #pageLoader .text{ color: hsl(296, 97%, 65%); font-family: system-ui, sans-serif; font-size: 20px; text-align: center; padding: 0 16px; }
        @keyframes spin{ to{ transform: rotate(360deg);} }

        /* ---------- SCENE PHONG THƯ ---------- */
        #letterScene{ position: absolute; inset: 0; z-index: 10; display: none; }
        #letterScene *{ margin: 0; padding: 0; }
        #letterScene .valentines{ position: relative; top: 50px; cursor: pointer; animation: up 3s linear infinite; }
        @keyframes up{ 0%,100%{ transform: translateY(0);} 50%{ transform: translateY(-30px);} }
        #letterScene .envelope{ position: relative; width: 300px; height: 200px; background-color: #f08080; }
        #letterScene .envelope:before{ background-color: #f08080; content: ""; position: absolute; width: 212px; height: 212px; transform: rotate(45deg); top: -105px; left: 44px; border-radius: 30px 0 0 0; }
        #letterScene .card{ position: absolute; background-color: #eae2b7; width: 270px; height: 170px; top: 5px; left: 15px; box-shadow: -5px -5px 100px rgba(0,0,0,0.4); }
        #letterScene .card:before{ content: ""; position: absolute; border: 3px dotted #003049; width: 240px; height: 140px; left: 12px; top: 12px; }
        #letterScene .text{ position: absolute; font-family: 'Dancing Script', cursive; font-size: 28px; text-align: center; line-height: 1.2; color: #003049; width: 100%; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 0 10px; }
        #letterScene .heart{ background-color: #d62828; display: inline-block; height: 30px; margin: 0 10px; position: relative; top: 110px; left: 105px; transform: rotate(-45deg); width: 30px; }
        #letterScene .heart:before, #letterScene .heart:after{ content: ""; background-color: #d62828; border-radius: 50%; height: 30px; position: absolute; width: 30px; }
        #letterScene .heart:before{ top: -15px; left: 0; } #letterScene .heart:after{ left: 15px; top: 0; }
        #letterScene .hearts{ position: absolute; }
        #letterScene .one, #letterScene .two, #letterScene .three, #letterScene .four, #letterScene .five{ background-color: red; display: inline-block; height: 10px; margin: 0 10px; position: relative; transform: rotate(-45deg); width: 10px; top: 50px; }
        #letterScene .one:before, #letterScene .one:after, #letterScene .two:before, #letterScene .two:after, #letterScene .three:before, #letterScene .three:after, #letterScene .four:before, #letterScene .four:after, #letterScene .five:before, #letterScene .five:after{ content: ""; background-color: red; border-radius: 50%; height: 10px; position: absolute; width: 10px; }
        #letterScene .one:before, #letterScene .two:before, #letterScene .three:before, #letterScene .four:before, #letterScene .five:before{ top: -5px; left: 0; }
        #letterScene .one:after, #letterScene .two:after, #letterScene .three:after, #letterScene .four:after, #letterScene .five:after{ left: 5px; top: 0; }
        #letterScene .one{ left: 10px; animation: heart 1s ease-out infinite; } #letterScene .two{ left: 30px; animation: heart 2s ease-out infinite; } #letterScene .three{ left: 50px; animation: heart 1.5s ease-out infinite; } #letterScene .four{ left: 70px; animation: heart 2.3s ease-out infinite; } #letterScene .five{ left: 90px; animation: heart 1.7s ease-out infinite; }
        @keyframes heart{ 0%{ transform: translateY(0) rotate(-45deg) scale(0.3); opacity: 1;} 100%{ transform: translateY(-150px) rotate(-45deg) scale(1.3); opacity: 0.5;} }
        #letterScene .front{ position: absolute; border-right: 180px solid #f4978e; border-top: 95px solid transparent; border-bottom: 100px solid transparent; left: 120px; top: 5px; width: 0; height: 0; z-index: 10; }
        #letterScene .front:before{ position: absolute; content: ""; border-left: 300px solid #f8ad9d; border-top: 195px solid transparent; left: -120px; top: -95px; width: 0; height: 0; }
        #letterScene .shadow{ position: absolute; width: 330px; height: 25px; border-radius: 50%; background-color: rgba(0,0,0,0.3); top: 265px; left: -15px; animation: scale 3s linear infinite; z-index: -1; }
        @keyframes scale{ 0%,100%{ transform: scaleX(1);} 50%{ transform: scaleX(0.85);} }
        #letterScene #castle{ display: flex; justify-content: center; align-items: center; height: 100vh; background-color: transparent; }
        #letterScene svg{ width: 80%; display: block; position: absolute; margin: auto; top: 0; bottom: 0; left: 0; right: 0; z-index: 1; }
        #letterScene text{ fill: #e6668a; font-family: 'Dancing Script', cursive; font-size: 11px; }
        #letterScene .wrapperLetterForm{ position: absolute; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 1000; background: rgba(0,0,0,0.7); display: none; }
        #letterScene .boxLetter{ width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }
        /* --- THAY ĐỔI: Phóng to thư --- */
        #letterScene .boxLetter .formLetter{ 
            position: relative; 
            width: 85vw; height: 80vh; 
            max-width: 800px; max-height: 600px;
            background-color: #FFEBEB; border-radius: 20px; z-index: 100; padding: 20px 15px; box-shadow: rgba(0,0,0,0.24) 0px 3px 8px; 
        }
        #letterScene .formLetter .wrapperLetter{ position: relative; width: 100%; height: 100%; border: 2px dashed #FF6666; border-radius: inherit; display: flex; }
        #letterScene .formLetter .heartLetter{ position: absolute; width: 30px; height: 30px; border-radius: 50%; background: #FFEBEB; display: flex; justify-content: center; align-items: center; z-index: 10; }
        #letterScene .heartLetter:first-child{ right: 5px; top: 10px; } #letterScene .heartLetter:nth-child(2){ left: 5px; bottom: 10px; }
        #letterScene .heartLetter .heartLetterItem{ position: relative; width: 10px; height: 10px; transform: rotate(45deg); background: #FF6666; }
        #letterScene .heartLetterItem::before, #letterScene .heartLetterItem::after{ position: absolute; content: ''; width: 100%; height: 100%; border-radius: 50%; background: inherit; }
        #letterScene .heartLetterItem::before{ top: -50%; } #letterScene .heartLetterItem::after{ left: -50%; }
        #letterScene .giftbox{ position: relative; width: 30%; height: 100%; display: flex; align-items: flex-end; justify-content: center; }
        #letterScene .giftbox .img{ position: relative; width: 160px; } #letterScene .giftbox img{ width: 100%; }
        #letterScene .textLetter{ width: 100%; flex-direction: column; justify-content: center; display: flex; align-items: center; user-select: text; }
        #letterScene .textLetter h2{ font-size: 32px; font-weight: 700; font-family: 'Dancing Script', cursive; text-align: center; padding: 0 15px; }
        /* --- THAY ĐỔI: Tăng chiều cao nội dung thư --- */
        #letterScene .textLetter .contentLetter{ 
            font-size: 20px; text-align: left; padding: 0 35px; margin-top: 15px; font-family: 'Dancing Script', cursive; 
            word-break: break-word; overflow-wrap: anywhere; white-space: pre-wrap; 
            max-height: 70%; /* Tăng không gian cho nội dung */
            overflow-y: auto; -webkit-overflow-scrolling: touch; 
        }
        #letterScene .fa-xmark{ position: absolute; right: 20px; top: 20px; color: #fff; cursor: pointer; font-size: 25px; z-index: 101; }
        #letterScene .letterCloseBtn{
            position: absolute; right: 15px; bottom: 15px; z-index: 12;
            width: 50px; height: 50px; border-radius: 50%; border: none; cursor: pointer;
            background: #FF6666; color: #fff; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 6px 14px rgba(0,0,0,0.18); font-size: 20px;
        }
        #letterScene .letterCloseBtn:active{ transform: scale(0.96); }
        #letterScene .heartAnimation{ position: absolute; width: 150px; bottom: 0; }
        #letterScene .heartAnimation img{ width: 100%; }
        #letterScene .mewmew1, #letterScene .mewmew2{ position: absolute; width: 90px; }
        #letterScene .mewmew1{ bottom: 0; left: 0; } #letterScene .mewmew2{ bottom: 0; right: 0; }
        #letterScene .mewmew1 img, #letterScene .mewmew2 img{ width: 100%; }
        #letterScene .signature{ position: absolute; bottom: 20px; right: 80px; font-weight: 700; font-family: 'Dancing Script', cursive; font-size: 22px; color: #FF6666; font-style: italic; text-align: right; z-index: 5; }
        
        @media (max-width: 768px) {
            #letterScene .boxLetter .formLetter{ width: 95vw; height: 85vh; max-height: none; }
            #letterScene .giftbox { display: none; }
            #letterScene .textLetter h2 { font-size: 26px; }
            #letterScene .textLetter .contentLetter { font-size: 17px; padding: 0 15px; }
            #letterScene .signature{ right: 35px; bottom: 15px; font-size: 18px; }
        }
    </style>
</head>
<body>    
    <img src="image/bg.png" alt="Ảnh nền" class="background-image">
    <img src="image/b3.png" alt="Ảnh trang trí" class="corner-image bottom-left">
    <img src="image/b3.png" alt="Ảnh trang trí" class="corner-image bottom-left-right">
    <img src="image/b4.png" alt="Ảnh trang trí" class="corner-image-right bottom-right">
    <img src="image/b6.png" alt="Ảnh trang trí trái tim" class="heart1">
    <img src="image/b5.png" alt="Ảnh trang trí trái tim" class="heart2">
    
    <h1 class="headline">Mừng Ngày Phụ Nữ Việt Nam</h1>

    <div id="letterScene">
        <div id="castle">
            <div class="letter">
                <div class="valentines">
                    <div class="envelope"></div>
                    <div class="front"></div>
                    <div class="card">
                        <div class="text">Mở thư ra<br>đọc nhé!</div>
                        <div class="heart"></div>
                    </div>
                    <div class="hearts">
                        <div class="one"></div> <div class="two"></div> <div class="three"></div> <div class="four"></div> <div class="five"></div>
                    </div>
                </div>
                <div class="shadow"></div>
            </div>
        </div>

        <div class="wrapperLetterForm" style="display: none;">
            <i class="fa-solid fa-xmark"></i>
            <div class="boxLetter">
                <div class="formLetter">
                    <div class="heartLetter"> <div class="heartLetterItem"></div> </div>
                    <div class="heartLetter"> <div class="heartLetterItem"></div> </div>
                    <div class="wrapperLetter">
                        <div class="giftbox">
                            <div class="img"> <img src="./image/giftbox.png" alt=""> </div>
                        </div>
                        <div class="textLetter">
                            <h2></h2>
                            <p class="contentLetter"></p>
                        </div>
                        <div class="mewmew1"> <img src="./image/mewmew.gif" alt=""> </div>
                        <div class="mewmew2"> <img src="./image/mewmew.gif" alt=""> </div>
                        <div class="signature"></div>
                    </div>
                    <button class="letterCloseBtn" title="Đã đọc" aria-label="Đã đọc">
                        <i class="fa-solid fa-check"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="pageLoader" class="show">
        <div class="wrap">
            <div class="spinner"></div>
            <div class="text">Đang chuẩn bị quà...</div>
        </div>
    </div>
    <div class="boxgift" id="giftBox">
        <img src="image/nap.png" alt="Nắp hộp" class="box-gift lid">
        <img src="image/hop.png" alt="Thân hộp" class="box-gift base">
    </div>

    <div id="player"></div>

    <script src="./detect-devtools.js"></script>
    <script type='text/javascript'>
        DisableDevtool({ tkName: 'key', md5: '9ac7ec230e0e4513578f309d6d3579ad', interval: '100' });
    </script>
    
    <script>
       // --------- Khu vực tùy chỉnh nội dung ---------
       const config = {
           // THAY ID VIDEO YOUTUBE BẠN MUỐN PHÁT LÀM NHẠC NỀN
           youtubeId: 'jfKfPfyJRdk', 
           
           // TIÊU ĐỀ THƯ
           titleLetter: 'Gửi người phụ nữ tuyệt vời nhất!',
           
           // NỘI DUNG THƯ (DÀI VÀ Ý NGHĨA)
           contentLetter: `Hôm nay, ngày 20 tháng 10, là một dịp đặc biệt để tôi có thể bày tỏ lòng biết ơn và sự trân trọng sâu sắc đến bạn – người phụ nữ đã luôn thầm lặng tô điểm cho cuộc đời này thêm rực rỡ.

Có lẽ sẽ chẳng có ngôn từ nào đủ đầy để nói hết về những cống hiến và hy sinh của bạn. Bạn là hiện thân của sự dịu dàng nhưng cũng ẩn chứa một nội lực phi thường. Bạn là dòng sông êm đềm vỗ về những tâm hồn, nhưng cũng là ngọn núi vững chãi trước bão giông. Bạn vừa là người giữ lửa cho tổ ấm, vừa là người thắp lên những ước mơ và hoài bão lớn lao.

Thế giới này, và cả cuộc đời tôi, sẽ thật trống trải và vô vị biết bao nếu thiếu đi nụ cười, sự quan tâm và tình yêu thương của bạn. Cảm ơn bạn vì đã luôn là chính bạn – một phiên bản độc nhất và tuyệt vời.

Nhân ngày đặc biệt này, tôi không chúc bạn những điều quá cao xa. Tôi chỉ thật tâm mong rằng:
- Mong bạn có những khoảnh khắc thật sự bình yên cho riêng mình, để lắng nghe và yêu chiều tâm hồn.
- Mong nụ cười của bạn luôn nở rộ trên môi, không chỉ hôm nay mà trong tất cả 365 ngày của một năm.
- Mong bạn luôn đủ mạnh mẽ để vượt qua mọi thử thách, nhưng cũng đủ dịu dàng để cho phép bản thân được yếu đuối khi cần.
- Và hơn hết, mong bạn luôn nhận ra giá trị của bản thân và được sống một cuộc đời trọn vẹn, hạnh phúc theo đúng cách bạn mong muốn.

Cảm ơn vì tất cả.`,
           
           // CHỮ KÝ CUỐI THƯ
           signatureLetter: 'Từ trái tim'
       };

       // --------- Phần xử lý code (không cần chỉnh sửa) ---------
       (function(){
           const pageLoader = document.getElementById('pageLoader');
           function showLoader(){ pageLoader && pageLoader.classList.add('show'); document.body.classList.remove('is-loaded'); }
           function hideLoader(){ pageLoader && pageLoader.classList.remove('show'); }
           function applyData(data){
               if(document.querySelector('#letterScene .textLetter h2')) document.querySelector('#letterScene .textLetter h2').textContent = '';
               if(document.querySelector('#letterScene .contentLetter')) document.querySelector('#letterScene .contentLetter').textContent = '';
               if(document.querySelector('#letterScene .signature') && typeof data.signatureLetter === 'string') document.querySelector('#letterScene .signature').innerHTML = data.signatureLetter;
           }
           showLoader();
           setTimeout(() => {
               try{ applyData(config); hideLoader(); document.body.classList.add('is-loaded'); }
               catch(e){ console.error('Config data error:', e); hideLoader(); document.body.classList.add('is-loaded'); }
           }, 1500); 
       })();

       (function(){
           const box = document.getElementById('giftBox');
           if(!box) return;
           let opened = false;
           function openBox(){
               if(opened) return;
               opened = true;
               box.classList.add('open');
               if (window.player && typeof window.player.playVideo === 'function') {
                   try { window.player.setVolume(60); window.player.playVideo(); } 
                   catch (e) { console.error("Lỗi khi phát video YouTube:", e); }
               }
               setTimeout(() => {
                   document.body.classList.add('hide-ui');
                   const scene = document.getElementById('letterScene');
                   if(scene){ scene.style.display = 'block'; }
                   initLetterScene();
               }, 1000);
           }
           box.addEventListener('click', openBox, { passive: true });
       })();

       function initLetterScene(){
           try{
               function typeWriter(element, text, speed, callback) {
                   let i = 0; element.innerHTML = '';
                   function type() {
                       if (i < text.length) {
                           element.innerHTML += text.charAt(i); i++;
                           setTimeout(type, speed);
                       } else if (callback) { callback(); }
                   }
                   type();
               }

               const $ = window.jQuery;
               if($){
                   $('.valentines').off('mouseenter mouseleave').on('mouseenter', function(){ $('.card').stop().animate({ top: '-90px' }, 'slow'); }).on('mouseleave', function(){ $('.card').stop().animate({ top: 0 }, 'slow'); });
                   $('.card').off('click').on('click', function(){
                       $('.wrapperLetterForm').fadeIn();
                       const titleEl = document.querySelector('#letterScene .textLetter h2');
                       const contentEl = document.querySelector('#letterScene .contentLetter');
                       if (config.titleLetter && config.contentLetter) {
                           typeWriter(titleEl, config.titleLetter, 80, () => {
                               typeWriter(contentEl, config.contentLetter, 50);
                           });
                       }
                   });
                   // THAY ĐỔI: Nút đóng thư
                   $('.letterCloseBtn, .fa-xmark').off('click').on('click', function(){
                       $('.wrapperLetterForm').fadeOut();
                   });
               }
           }catch(err){ console.error("Error in letter scene:", err); }
       }
    </script>

    <script>
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        window.player;
        function onYouTubeIframeAPIReady() {
            window.player = new YT.Player('player', {
                height: '0', width: '0',
                videoId: config.youtubeId || 'jfKfPfyJRdk',
                playerVars: { 'autoplay': 0, 'controls': 0, 'loop': 1, 'playlist': config.youtubeId || 'jfKfPfyJRdk' }
            });
        }
    </script>
</body>
</html>
